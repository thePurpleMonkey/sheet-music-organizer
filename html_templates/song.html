<!DOCTYPE html>
<html lang="en">
  <head>
    {{template "header.html"}}

    <title>Song - Sheet Music Organizer</title>

    <style>
      #tag_container button {
        margin-right: 5px;
      }

      #tag_container .deletable:hover {
        text-decoration: line-through;
      }

      #edit_buttons button {
        margin-left: 5px;
        width: 5em;
      }
    </style>
  </head>

  <body>
    {{template "navbar.html"}}

    <div class="container">
      <!-- Header -->
      <h1 id="page_header">Loading...</h1>
      <hr>

      <div id="alerts"></div>

      <!-- Main view -->
      <form>
        <div class="form-group row">
          <label for="song_name" class="col-sm-2 col-form-label">Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="song_name" disabled>
          </div>
        </div>
        <div class="form-group row">
          <label for="song_artist" class="col-sm-2 col-form-label">Artist</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="song_artist" disabled>
          </div>
        </div>
        <div class="form-group row">
          <label for="song_location" class="col-sm-2 col-form-label">Location</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="song_location" disabled>
          </div>
        </div>
        <div class="form-group row">
          <label for="song_last_performed" class="col-sm-2 col-form-label">Last performed</label>
          <div class="col-sm-10">
            <input type="date" class="form-control" id="song_last_performed" disabled>
          </div>
        </div>
        <div class="form-group row">
          <label for="song_notes" class="col-sm-2 col-form-label">Notes</label>
          <div class="col-sm-10">
            <input type="textarea" class="form-control" id="song_notes" disabled>
          </div>
        </div>
        <div class="form-group row">
          <label for="song_date_added" class="col-sm-2 col-form-label">Date added</label>
          <div class="col-sm-10">
            <input type="date" class="form-control" id="song_date_added" readonly>
          </div>
        </div>
        <div class="form-group row">
          <label for="song_added_by" class="col-sm-2 col-form-label">Added by</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="song_added_by" disabled>
          </div>
        </div>
        <div class="form-group row">
          <label for="tags" class="col-sm-2 col-form-label">Tags</label>
          <div class="col-sm-10 btn-toolbar" id="tag_container">
            <!-- TODO: List tags here -->
            <a data-toggle="modal" href="#add_tag_modal" class="btn btn-success" id="add_tag_button" style="display: none;">Add tag</a>
          </div>
        </div>
        <div class="clearfix">
          <div class="float-right row" id="edit_buttons" style="display: none;">
            <button type="button" class="btn btn-secondary" id="edit_cancel">Cancel</button>
            <button type="button" class="btn btn-primary" id="song_save">Save</button>
          </div>
        </div>
      </form>
      
      {{template "footer.html"}}
    </div>

    <!-- #region Modals -->

    <!-- Add tag wait modal -->
    <div class="modal fade in" tabindex="-1" role="dialog" id="tag_wait">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Adding Tag...</h5>
        </div>
        <div class="modal-body">
          <p>Please wait while we tag this song...</p>
        </div>
        </div>
      </div>
    </div>

    <!-- Delete tag wait modal -->
    <div class="modal fade in" tabindex="-1" role="dialog" id="delete_tag_wait_modal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Removing Tag...</h5>
        </div>
        <div class="modal-body">
          <p>Please wait while we remove this tag from the song...</p>
        </div>
        </div>
      </div>
    </div>

    <!-- Edit song wait modal -->
    <div class="modal fade in" tabindex="-1" role="dialog" id="edit_song_wait">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Saving changes...</h5>
        </div>
        <div class="modal-body">
          <p>Please wait while we save your changes to this song...</p>
        </div>
        </div>
      </div>
    </div>

    <!-- Delete song wait modal -->
    <div class="modal fade in" tabindex="-1" role="dialog" id="delete_song_wait">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Deleting song...</h5>
        </div>
        <div class="modal-body">
          <p>Please wait while we delete this song...</p>
        </div>
        </div>
      </div>
    </div>
    
    <!-- Delete song modal -->
    <div class="modal fade" id="delete_song_modal" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Delete song confirmation</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>
              Are you sure you want to delete this song? It will be permanently removed
              from this collection, all attachments will be deleted, and no one will be
              able to access it anymore.
            </p>
            <p>This CANNOT be undone!</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" id="delete_song">Delete</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Add tag modal -->
    <div class="modal fade" id="add_tag_modal" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Tag</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
            <div class="form-group">
              <label for="tag_list" class="col-form-label">Select tag to add:</label>
              <select class="form-control" id="tag_list" name="tag_list">
              </select>
            </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="add_tag">Add Tag</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- #endregion -->
  
    <!-- Script -->
    <script src="/js/song.js" type="module"></script>
  </body>
</html>
