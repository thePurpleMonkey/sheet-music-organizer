<!DOCTYPE html>
<html lang="es">
  <head>
    {{template "header.html"}}

    <title>Miembros - Sheet Music Organizer</title>

    <style>
      #description {
        font-style: italic;
      }

      #description_header {
        font-weight: bold;
      }
      
      .admin-icon {
        margin-right: .5em;
	    }

      .user_img {
        float: right;
        top: 4px;
        position: relative;
      }

      img {
        height: 1em;
      }

      .list-group-item {
        overflow-x: auto;
      }
    </style>
  </head>

  <body>
    {{template "navbar.html"}}

    <div class="container">
      <!-- Header -->
      <h1 id="page_header">Miembros</h1>
      <hr>

      <div id="alerts"></div>

      <!-- Main view -->
      <div class="row row-cols-2">
        <!-- All songs list -->
        <div id="members_container" class="col-sm-6">
          <h3>Miembros de <span id="collection_name">esta colección</span></h3>
          <ul id="members_list" class="list-group"></ul>
        </div>

        <!-- Tags -->
        <div id="invitations_container" class="col-sm-6">
          <h3>Invitaciones pendientes</h3>
          <ul id="invitations_list" class="list-group"></ul>
        </div>
      </div>

      {{template "footer.html"}}

      <!-- #region Modals -->

      <!-- Invite modal -->
      <div class="modal fade" id="invite_modal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Invitar a un miembro nuevo</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
              <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <label for="recipient_name" class="col-form-label">Nombre de receptor:</label>
                  <input type="text" class="form-control" id="recipient_name" placeholder="John Doe" required>
                </div>
                <div class="form-group">
                  <label for="recipient_email" class="col-form-label">Email de receptor:</label>
                  <input type="email" class="form-control" id="recipient_email" placeholder="john.doe@example.com" required>
                </div>
                <div class="form-group">
                  <label for="message" class="col-form-label" >Mensaje: (opcional)</label>
                  <textarea class="form-control" id="message" placeholder="Un mensaje opcional para incluir con la invitación."></textarea>
                </div>
                <div class="form-group form-check">
                  <input type="checkbox" class="form-check-input" id="admin_invite" checked>
                  <label for="admin_invite" class="form-check-label">Invitar como administrador</label>
                </div>
              </form>
              <hr>
              <p>
                Haciendo clic en Enviar enviará un email a la arriba dirección de correo electrónico,
                dirigido al nombre del receptor.
                El email incluirá su nombre, dirección de correo electrónico, y mensaje personal (si provisto).
                El receptor puede hacer clic en el enlace del email y 
                (después de crear una cuenta si necesario) unirse a esta colección.
              </p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-primary" id="send_invite_button">Enviar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Send invite wait modal -->
      <div class="modal fade in" tabindex="-1" role="dialog" id="invite_wait">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Enviando invitación...</h5>
          </div>
          <div class="modal-body">
            <p>Por favor espera mientras esta se envía la invitación...</p>
          </div>
          </div>
        </div>
      </div>
      
      <!-- Leave modal -->
      <div class="modal fade" id="leave_modal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">¿Usted está seguro?</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
              <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>
                ¿Usted está seguro que quiere dejar esta colección?
                Ya no podrá acceder a esta colección
                hasta que se invita nuevamente por un administrador de colección.
              </p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-danger" id="leave_modal_button">Dejar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Leave wait modal -->
      <div class="modal fade in" tabindex="-1" role="dialog" id="leave_wait">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Dejando...</h5>
          </div>
          <div class="modal-body">
            <p>Por favor espera mientras se procesa su solicitud...</p>
          </div>
          </div>
        </div>
      </div>
      
      <!-- Manage members modal -->
      <div class="modal fade" id="manage_modal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Dirigir miembros</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
              <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <h3>Administradores Actual</h3>
              <p>Los administradores seleccionados habrán quitado sus permisos de administradores.</p>
              <div id="administrators_list" class="list-group"></div>
              <hr>
              <h3>Usuarios Regulares</h3>
              <p>Los usuarios seleccionadores estarán promover a administrator.</p>
              <div id="users_list" class="list-group"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-primary" id="save_admins_button">Guardar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Manage wait modal -->
      <div class="modal fade in" tabindex="-1" role="dialog" id="manage_wait">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Guardando...</h5>
          </div>
          <div class="modal-body">
            <p>Por favor espera mientras se guardan sus cambios...</p>
          </div>
          </div>
        </div>
      </div>

      <!-- #endregion -->
  
    <!-- Script -->
    <script src="/js/members.js" type="module"></script>
  </body>
</html>
